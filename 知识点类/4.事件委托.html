<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件委托</title>
    <script type="text/javascript">

        //事件委托
        
        //event对象： 事件源
        
        // ie:  window.event.srcElement
        // 标准： event.target
        
        // nodeName 元素标签名
        
        //好处：
        //1.提高性能
        //2.新添加的元素依然拥有事件
        
        window.onload = function(){


            var oUl = document.getElementById("ul1");

            var oInput = document.getElementById("input1");

            //var oLi = oUl.getElementsByTagName("li");

            /*
            for(var i=0; i<oLi.length; i++){
                oLi[i].onmouseover  = function(){
                    this.style.color="red";
                }

                oLi[i].onmouseout = function(){
                    this.style.color = "";
                }
            }
            */
            
            //事件委托
            oUl.onmouseover = function(event){

                var event = event || widnow.event;
                var target = event.target || event.srcElement;

                //console.log(target.innerHTML);

                if ( target.nodeName.toLowerCase() ==  'li'){
                    target.style.color = "red";    
                }
            }

            oUl.onmouseout = function(event){

                var event = event || widnow.event;
                var target = event.target || event.srcElement;

                if (target.nodeName.toLowerCase() == 'li'){
                    target.style.color = "";    
                }
                
            }

            //动态添加元素，依然拥有事件
            oInput.onclick = function(){
                var oLi = document.createElement("li");
                oLi.innerHTML = "555";

                oUl.appendChild(oLi);    
            }
        }
        
    </script>
</head>
<body>
    <ul id="ul1">
        <li>111</li>
        <li>222</li>
        <li>333</li>
        <li>444</li>
    </ul>

    <input type="button" value="添加" id="input1" />

</body>
</html>