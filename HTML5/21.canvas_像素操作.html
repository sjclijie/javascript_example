<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        canvas {
            border: 1px solid #C6E746;
        }

    </style>
    <script>

        /**
         *
         * createImageData(w, h);  创建一个新的像素集合
         * getImageData( x, y, w, h );
         * putImageData(objectImageData, x, y);
         *
         */


        window.onload = function(){

            var oConvas = document.querySelector("#canvas1");

            var oc = oConvas.getContext("2d");

            var oImg = new Image();

            oImg.onload = function(){
                oc.drawImage(oImg, 100, 100, 100, 100);

                var imageData = oc.getImageData(100,100,100,100);

                var newImageData = oc.createImageData(100, 100);

                console.log(imageData.data.length);

                console.log(imageData.data[0]);
                console.log(imageData.data[1]);
                console.log(imageData.data[2]);
                console.log(imageData.data[3]);

                for(var i=0; i<imageData.data.length; i++){
                    imageData.data[i] += 100;
                    if (imageData.data[i] > 255){
                        imageData.data[i] = 0;
                    }
                }

                oc.putImageData(imageData, 300, 100);
            }

            oImg.src = "./images/1.jpg";

        }

    </script>
</head>
<body>

<canvas id="canvas1" width="500" height="400"></canvas>
</body>
</html>