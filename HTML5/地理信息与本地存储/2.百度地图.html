<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum=1.0" minimun="1.0"/>
    <title></title>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=WBMtOiOWV0ak1SLnjvHvDjAn"></script>
    <style>
        #div1 {
            width: 300px;
            height: 300px;
            border: 1px solid #c0c0c0;
        }
    </style>
    <script>

        window.onload = function(){

            var btn1 = document.getElementById("btn1");

            btn1.onclick = function(){

                navigator.geolocation.getCurrentPosition(function(position){

                    // 百度地图API功能
                    var map = new BMap.Map("div1");    // 创建Map实例
                    map.centerAndZoom(new BMap.Point(position.coords.longitude, position.coords.latitude), 11);  // 初始化地图,设置中心点坐标和地图级别
                    map.addControl(new BMap.MapTypeControl());   //添加地图类型控件
                    map.setCurrentCity("北京");          // 设置地图显示的城市 此项是必须设置的
                    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放

                    setTimeout(function(){
                        map.setZoom(14);
                    }, 2000);  //2秒后放大到14级


                    //创建标注
                    var pt = new BMap.Point(position.coords.longitude, position.coords.latitude);
                    var marker2 = new BMap.Marker(pt);  // 创建标注
                    map.addOverlay(marker2);
                });
            }
        }

    </script>
</head>
<body>
<input type="button" value="请求" id="btn1"/>
<div id="div1"></div>
</body>
</html>